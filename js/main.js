"use strict";document.addEventListener("DOMContentLoaded",function(){function t(){var e=document.getElementById("nav-menu"),t=document.getElementById("nav-toggle");!function(){for(var e=document.querySelectorAll(".scroll-to"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var t=e.target.getAttribute("href").substring(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})})}(),e.classList.remove("show-menu"),t.classList.remove("active")}function e(){if(P){var e=window.scrollY,t=P.offsetHeight;P.offsetTop+t<e&&($(".video").html(" "),$(".video").fadeOut(),$(".video-poster").fadeIn(),$(".video-btn__play").fadeIn())}}var r=document.querySelectorAll("[data-spollers]");if(0<r.length){var s=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e.forEach(function(e){e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),o(e),e.addEventListener("click",n)):(e.classList.remove("_init"),o(e,!1),e.removeEventListener("click",n))})},o=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=e.querySelectorAll("[data-spoller]");0<r.length&&r.forEach(function(e){t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})},n=function(e){var t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){var r=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=r.closest("[data-spollers]"),n=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(n&&!r.classList.contains("_active")&&i(o),r.classList.toggle("_active"),p(r.nextElementSibling,500)),e.preventDefault()}},i=function(e){var t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),v(t.nextElementSibling,500))},l=Array.from(r).filter(function(e,t,r){return!e.dataset.spollers.split(",")[0]});0<l.length&&s(l);var a=Array.from(r).filter(function(e,t,r){return e.dataset.spollers.split(",")[0]});if(0<a.length){var d=[];a.forEach(function(e){var t={},r=e.dataset.spollers.split(",");t.value=r[0],t.type=r[1]?r[1].trim():"max",t.item=e,d.push(t)});var c=d.map(function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type});(c=c.filter(function(e,t,r){return r.indexOf(e)===t})).forEach(function(e){var t=e.split(","),r=t[1],o=t[2],n=window.matchMedia(t[0]),i=d.filter(function(e){if(e.value===r&&e.type===o)return!0});n.addListener(function(){s(i,n)}),s(i,n)})}}var u,m,v=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(function(){e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t))},p=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return e.hidden?function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);var r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)}}(e,t):v(e,t)},y=document.querySelector(".wrapper");u="header-sticky",m=1,window.addEventListener("scroll",function(){var e=window.scrollY,t=document.getElementById(u).offsetHeight,r=m,o=document.getElementById(u);r<=e?(o.classList.add("sticky"),y.style.paddingTop=t+"px"):(o.classList.remove("sticky"),y.style.paddingTop=null)});var f,g,h,_;f="nav-toggle",g="nav-menu",h=document.getElementById(f),_=document.getElementById(g),h&&_&&h.addEventListener("click",function(){_.classList.toggle("show-menu"),h.classList.toggle("active")}),function(){for(var e=document.querySelectorAll(".ibg"),t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}();new Swiper(".slider-print__container",{slidesPerView:1,allowTouchMove:!1,speed:1e3,navigation:{nextEl:".slider-print__control-next",prevEl:".slider-print__control-prev"},pagination:{el:".print__pagination",type:"custom",renderCustom:function(e,t,r){return("0"+t).slice(-2)+" / "+("0"+r).slice(-2)}},parallax:!0}),new Swiper(".print-img__container",{slidesPerView:1,navigation:{nextEl:".print-img__control-next",prevEl:".print-img__control-prev"}});var w=document.querySelector(".product__slider");w&&new Swiper(w,{slidesPerView:2,slidesPerColumn:2,slidesPerColumnFill:"row",navigation:{nextEl:".product__control-next",prevEl:".product__control-prev"},breakpoints:{767:{slidesPerView:3,slidesPerColumn:2},1024:{slidesPerView:4,slidesPerColumn:2}}}),document.querySelectorAll(".menu__link").forEach(function(e){return e.addEventListener("click",t)});var L=document.querySelectorAll(".cases__navigation-item"),b=document.querySelectorAll(".cases__item");L.forEach(function(o){o.addEventListener("click",function(){var e=o,t=e.getAttribute("data-tab"),r=document.querySelector(t);L.forEach(function(e){e.classList.remove("active")}),b.forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),r.classList.add("active")})});var E=document.querySelectorAll(".cases__slider-body");if(0<E.length){var S=[];E.forEach(function(e,t){e.classList.add("instance-"+t);var r=e.closest(".cases__block");r.querySelector(".cases__controls").classList.add("cases__controls-"+t),r.querySelector(".cases__control-prev").classList.add("prev-"+t),r.querySelector(".cases__control-next").classList.add("next-"+t),S[t]=new Swiper(".instance-"+t,{observer:!0,observeParents:!0,navigation:{prevEl:".prev-"+t,nextEl:".next-"+t}})}),S[2].update(),setTimeout(function(){var e=!0,t=!1,r=void 0;try{for(var o,n=S[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){o.value.update()}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}},50)}document.querySelectorAll('input[type="tel"]').forEach(function(e){new Inputmask("+7 (999) 999-99-99").mask(e)});var q=function(e,t,n,r){new window.JustValidate(e,{rules:t,submitHandler:function(e){var t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var t=document.querySelector(".modal"),e=document.querySelectorAll(".modal__body"),r=(document.querySelector("body"),document.querySelector(n));e.forEach(function(e){e.classList.remove("modal-open"),e.classList.remove("fadeInUp"),e.classList.remove("animate-open")}),t.classList.add("is-open"),r.classList.add("modal-open"),setTimeout(function(){t.classList.remove("is-open"),r.classList.remove("modal-open");var e=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.style.paddingRight="0",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")},2e3)}},o.open("POST","mail.php",!0),o.send(t),e.reset()}})};q("#form-callback",{email:{required:!0,email:!0},tel:{required:!0},name:{required:!0}},".thanks-popup"),q("#modal-form",{email:{required:!0,email:!0},tel:{required:!0},name:{required:!0}},".thanks-popup");var P=document.querySelector(".reviews");window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1)});